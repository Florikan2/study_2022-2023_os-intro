---
## Front matter
title: "Шаблон отчёта по лабораторной работе"
subtitle: "Простейший вариант"
author: "Дмитрий Сергеевич Кулябов"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы
Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

# Выполнение лабораторной работы

Создадим в каталоге “work” подкаталог “os”, перейдем в наш новый подкаталог “os” и создадим в нём новый каталог “lab06”. После этого перейдём в “lab06” и воспользуемся в терминале командой: vi hello.sh (для вызова и создания файла)

![Рис.1 Создание новых каталогов и вызов vi ](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE.png)


В новом окне нажмём клавишу “i” и добавим текст. После этого перейдём с помощью клавиши “Esc” в командный режим и нажмём “:” для перехода в режим последней строки, где введём “w” (запись) и “q” (выйти). Не забудем нажать “Enter” для сохранения 

![Рис.2 Добавление текста. Запись и выход ](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%A0%D0%B8%D1%81.%201%20%20%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%BE%D0%B2%D1%8B%D1%85%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2%20%D0%B8%20%D0%B2%D1%8B%D0%B7%D0%BE%D0%B2%20vi.png)


Сделаем файл исполняемым и совершим вызов этого файла на редактирование

![Рис.3 Исполняемый файл и его вызов на редактирование](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%A0%D0%B8%D1%81.%202%20%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0.png)



Установим курсор в конце слова HELL второй строки и перейдём в режим вставки.Заменим слово на HELLO. Нажмём “Esc” для возврата в командный режим 

![Рис.4 Замена слова ](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%A0%D0%B8%D1%81.%204%20%D0%97%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0%20%D1%81%D0%BB%D0%BE%D0%B2%D0%B0.png)



Теперь установим курсор на четвёртую строку и сотрём слово LOCAL. Перейдя в режим вставки “i”, добавим в эту строку слово local и вернёмся в командный режим

![Рис.5 Удаление слова и добавление нового ](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%A0%D0%B8%D1%81.%205%20%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%20%D0%B8%20%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE.png)



Установим курсор на последнюю строку и вставим послее неё новую строку с текстом

![Рис.6 Добавление новой строки ](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%A0%D0%B8%D1%81.%206%20%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%BE%D0%B2%D0%BE%D0%B9%20%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8.png)



Удалим двойным нажатием на клавишу “d” новую строку

![Рис.7 Удаление всей строки ](image/placeimg_800_600_tech.jpg)


Клавишей “u” отменим последнюю команду. В конце запишем произведённые
изменения и выйдем из файла

![Рис.8 Отмена последней команды ](https://github.com/Florikan2/study_2022-2023_os-intro/blob/master/labs/lab08/report/image/%D0%A0%D0%B8%D1%81.%207%20%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%D1%81%D0%B5%D0%B9%20%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8.png)


# Контрольные вопросы
1 Дайте краткую характеристику режимам работы редактора vi.
Редактор vi имеет три режима работы:
• командный режим: предназначен для ввода команд редактирования и навигации по редактируемому файлу;
• режим вставки: предназначен для ввода содержания редактируемого файла;
• режим последней (или командной) строки: используется для записи изменений в файл и выхода из редактора.
2 Как выйти из редактора, не сохраняя произведённые изменения?
Чтобы выйти из редактора, не сохраняя произведённые изменения, нужно в
режиме командной строки нажать клавиши «:» «q» «!»
3 Назовите и дайте краткую характеристику командам позиционирования.
Команды позиционирования:
• «0»(ноль): переход в начало строки;
• «$»: переход в конец строки;
• «G»: переход в конец файла;
• n«G»: переход на строку с номером n.
4 Что для редактора vi является словом?
При использовании прописных W и B под разделителями понимаются только
пробел, табуляция и возврат каретки. При использовании строчных w и b под разделителями понимаются также любые знаки пунктуации.
5 Каким образом из любого места редактируемого файла перейти в начало
(конец) файла?
Чтобы из любого места редактируемого файла перейти в начало (конец) файла,
нужно в режиме командной строки нажать клавиши «1» «G» («G»).
6 Назовите и дайте краткую характеристику основным группам команд редакирования.
Команды редактирования:
Вставка текста:
• «а»: вставить текст после курсора;
• «А»: вставить текст в конец строки;
• «i»: вставить текст перед курсором;
• n «i»: вставить текст n раз;
• «I»: вставить текст в начало строки.
Вставка строки:
• «о»: вставить строку под курсором;
• «О»: вставить строку над курсором.
Удаление текста:
• «x»: удалить один символ в буфер;
• «d» «w»: удалить одно слово в буфер;
• «d» «$»: удалить в буфер текст от курсора до конца строки;
• «d» «0»: удалить в буфер текст от начала строки до позиции курсора;
• «d» «d»: удалить в буфер одну строку;
• n «d» «d»: удалить в буфер n строк.
Отмена и повтор произведённых изменений:
• «u»: отменить последнее изменение;
• «.»: повторить последнее изменение.
Копирование текста в буфер:
• «Y»: скопировать строку в буфер;
• n «Y»: скопировать n строк в буфер;
• «y» «w»: скопировать слово в буфер.
Вставка текста из буфера:
• «p»: вставить текст из буфера после курсора;
• «P»: вставить текст из буфера перед курсором.
Замена текста:
• «c» «w»: заменить слово;
• n «c» «w»: заменить nслов;
• «c» «$»: заменить текст от курсора до конца строки;
• «r»: заменить слово;
• «R»: заменить текст.
Поиск текста:
• «/» текст: произвести поиск вперёд по тексту указанной строки символов текст;
• «?» текст: произвести поиск назад по тексту указанной строки символов текст.
Копирование и перемещение текста:
• «:» n,m «d»: удалить строки с n по m;
• «:» i,j «m» k: переместить строки с i по j, начиная со строки k;
• «:» i,j «t» k: копировать строки с i по j в строку k;
• «:» i,j «w» имя-файла: записать строки с i по j в файл с именем имя-файла.
7 Необходимо заполнить строку символами $. Каковы ваши действия?
Чтобы заполнить строку символами ,необходимо для начала перейти на эту
строку,нажав клавишиn «G»,где n–номер строки, далее нажать «0» для перехода в начало строки. Теперь необходимо нажать «c» «», чтобы заменить текст от курсора до конца строки, и ввести символы $.
8 Как отменить некорректное действие, связанное с процессом редактирования?
Чтобы отменить по одному предыдущему действию последовательно, необходимо нажать «u». Чтобы отменить все изменения, произведённые со времени последней записи, нужно нажать «:» «e» «!».
9 Назовите и дайте характеристику основным группам команд режима последней строки.
Команды редактирования в режиме командной строки
Копирование и перемещение текста:
• «:»n,m «d»: удалить строки с n по m;
• «:»i,j «m» k: переместить строки с i по j, начиная со строки k;
• «:»i,j «t» k: копировать строки с i по j в строку k;
• «:»i,j «w» имя-файла: записать строки с i по j в файл с именем имя файла.
Запись в файл и выход из редактора:
• «:» «w»: записать изменённый текст в файл, не выходя из vi;
• «:» «w» имя-файла: записать изменённый текст в новый файл с именем имя файла;
• «:» «w» «!» имя-файла: записать изменённый текст в файл с именем имя-файла;
• «:» «w» «q»: записать изменения в файл и выйти из vi;
• «:» «q»: выйти из редактора vi;
• «:» «q» «!»: выйти из редактора без записи;
• «:» «e» «!»: вернуться в командный режим, отменив все изменения, произведённые со времени последней записи.
Опции:
Опции редактора vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме последней строки):
• «:»set all: вывести полный список опций;
• «:»set nu: вывести номера строк;
• «:»set list: вывести невидимые символы;
• «:»set ic: не учитывать при поиске, является ли символ прописным или строчным. Если вы хотите отказаться от использования опции, то в команде set перед именем опции надо поставить no.
10 Как определить, не перемещая курсора, позицию, в которой заканчивается строка?
Чтобы определить, не перемещая курсора, позицию, в которой заканчивается строка, нужно в командном режиме находясь на нужной строке нажать «$»и посмотреть на число после запятой в правом нижнем углу экрана.
11 Выполните анализ опций редактора vi (сколько их, как узнать их назначение
и т.д.).
Опции редактора vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме командной строки). Если вы хотите отказаться от использования опции, то в команде set перед именем опции надо поставить no.
Чтобы просмотреть опции редактора vi, необходимо нажать «:» set all. Нажав «:» help “название_опции”, можно узнать назначение конкретной опции.
12 Как определить режим работы редактора vi?
В режиме командной строки внизу редактора присутствует «:», в режиме ввода  «–ВСТАВКА–», в командном режиме внизу ничего нет.
13 Постройте граф взаимосвязи режимов работы редактора vi.

# Выводы

В ходе выполнения лабораторной работы мы познакомились с операционной системой Linux и получили практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

